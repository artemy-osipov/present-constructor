<ng-container *ngIf="present$ | async as present">
  <h1 class="title">{{ present.name }}</h1>

  <div class="field">
    <label class="label">Цена</label>
    <div>{{ present.price | price }}</div>
  </div>

  <div class="field">
    <label class="label">Себестоимость</label>
    <div>{{ present.cost | price }}</div>
  </div>

  <div class="field">
    <label class="label">Позиций</label>
    <div>{{ present.items.length }}</div>
  </div>

  <div class="field buttons mobile-fullwidth">
    <a class="button is-link" href="{{ privateReportLink }}">
      <span class="icon">
        <fa-icon icon="file"></fa-icon>
      </span>
      <span>Прайс</span>
    </a>
    <a class="button is-link" href="{{ publicReportLink }}">
      <span class="icon">
        <fa-icon icon="file"></fa-icon>
      </span>
      <span>Прайс для розницы</span>
    </a>
    <button
      type="button"
      class="button"
      [routerLink]="['/presents/new', { source: present.id }]"
    >
      <span class="icon">
        <fa-icon icon="copy"></fa-icon>
      </span>
      <span>Создать на основе</span>
    </button>
    <button type="button" class="button" (click)="openDeleteForm()">
      <span class="icon">
        <fa-icon icon="trash"></fa-icon>
      </span>
      <span>Удалить</span>
    </button>
  </div>

  <div class="field">
    <label class="label">Состав</label>

    <table class="is-hidden-mobile table is-striped is-hoverable">
      <thead>
        <tr>
          <th>Название</th>
          <th>Производитель</th>
          <th>Цена</th>
          <th>Количество</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of present.items">
          <td>{{ item.candy.name }}</td>
          <td>{{ item.candy.firm }}</td>
          <td>{{ item.candy.price | price }}</td>
          <td>{{ item.count }}</td>
        </tr>
      </tbody>
    </table>

    <div class="is-hidden-tablet columns is-multiline">
      <div class="column" *ngFor="let item of present.items">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">{{ item.candy.name }}</p>
          </header>
          <div class="card-content">
            <div class="content">
              <p><strong>Производитель: </strong>{{ item.candy.firm }}</p>
              <p><strong>Цена: </strong>{{ item.candy.price | price }}</p>
              <p><strong>Количество: </strong>{{ item.count }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
